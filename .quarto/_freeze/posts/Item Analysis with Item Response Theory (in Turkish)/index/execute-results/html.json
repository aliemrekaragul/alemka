{
  "hash": "d07ca448f30876689462aaa0ef0dbd69",
  "result": {
    "markdown": "---\ntitle: \"Item Analysis with Item Response Theory (in Turkish)\"\ndescription: |\n  Madde Tepki Kuramı temelli madde analizi. Hem çok kategorili hem de iki kategorili maddeler için MTK temelli madde analizi uygulama süreçleri...\nauthor:\n  - name: Ali Emre Karagül\n    orcid: 0000-0002-5820-8643\n    email: aliemrekaragul@gmail.com\n    affiliations:\n      - name: TOBB ETU- University of Economics & Technology\ndate: 2021-11-20\ncategories: [psychometrics, IRT]\nimage: \"mtk.png\"\n---\n\n\n## GİRİŞ\n\nBu çalışmada çok kategorili puanlanan maddelerden elde edilen bir veri seti kullanılmıştır. Çalışmanın ilk kısmında çok kategorili maddelere yönelik MTK analizleri yürütülmüştür. Daha sonra aynı veri seti iki kategorili verilere dönüştürülmüştür. Yine MTK süreçleri bu sefer de iki kategorili maddeler için yürütülmüştür. İzlenen adımlar şu şekildedir:\n\n**1. Çoklu puanlanan maddelere yönelik olarak;**\n\n-   Uygun MTK modeli nedir?\n-   Bu modele göre madde ve test parametreleri nasıldır?\n-   İdeal ve sorunlu madde örnekleri nasıldır?\n-   Test bilgi fonksiyonunu nasıldır?\n-   Birey yetenek puanlarının dağılımı nasıldır?\n\n**2. Her bir maddeyi, kendi madde ortalamasından keserek 1-0 verisine dönüştürünüz. Buna göre iki kategorili puanlanan maddelere yönelik olarak;**\n\n-   Uygun MTK modeli nedir?\n-   Bu modele göre madde ve test parametreleri nasıldır?\n-   İdeal ve sorunlu madde örnekleri nasıldır?\n-   Test bilgi fonksiyonunu nasıldır?\n-   Birey yetenek puanlarının dağılımı nasıldır?\n\n### **Preprocessing**\n\nKullanılan paketleri listeleyelim:\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\nlibrary(psych)\nlibrary(GPArotation)\nlibrary(sirt)\nlibrary(ltm)\n```\n:::\n\n\nTabi ki işe öncelikle verinin working directory'den yüklenmesi ve ön düzenleme süreçleri ile başladık:\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\ndata1<- read.csv2(\"sampledata.csv\")\nstr(data1) #yapısını incelemek için.\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n'data.frame':\t531 obs. of  25 variables:\n $ SIRA    : int  1 2 3 4 5 6 7 8 9 10 ...\n $ Fakulte : chr  \"Diger\" \"Diger\" \"Diger\" \"Diger\" ...\n $ Sinif   : int  4 4 5 4 5 4 4 4 4 4 ...\n $ Cinsiyet: chr  \"Kad\\xfdn\" \"Kad\\xfdn\" \"Kad\\xfdn\" \"Kad\\xfdn\" ...\n $ Ortalama: chr  \"2.88\" \"2.93\" \"3.12\" \"3.28\" ...\n $ L1      : int  2 1 2 2 1 3 3 1 1 2 ...\n $ L2      : int  1 1 4 2 1 4 4 3 4 1 ...\n $ L3      : int  2 4 4 3 1 4 3 1 4 4 ...\n $ L4      : int  1 2 4 3 2 4 4 1 2 3 ...\n $ L5      : int  2 4 4 4 2 5 4 1 3 4 ...\n $ L6      : int  1 5 4 3 4 3 3 5 4 2 ...\n $ L7      : int  2 1 4 3 5 4 4 1 2 3 ...\n $ L8      : int  1 3 3 3 1 4 4 1 2 1 ...\n $ L9      : int  2 1 4 4 1 3 5 1 3 4 ...\n $ L10     : int  1 1 2 3 2 4 4 1 4 2 ...\n $ L11     : int  2 1 4 3 3 4 5 4 3 2 ...\n $ L12     : int  1 3 4 3 5 4 5 2 3 2 ...\n $ L13     : int  2 1 2 2 1 2 3 1 1 4 ...\n $ L14     : int  1 1 1 2 1 3 4 1 2 5 ...\n $ L15     : int  3 3 4 3 2 3 4 1 2 4 ...\n $ L16     : int  1 1 1 2 1 2 2 2 2 5 ...\n $ L17     : int  2 2 2 2 1 3 4 1 2 4 ...\n $ L18     : int  2 2 2 3 4 3 2 1 2 3 ...\n $ L19     : int  2 2 2 3 2 4 3 1 4 2 ...\n $ L20     : int  1 1 2 3 1 3 4 1 3 4 ...\n```\n:::\n:::\n\n\nVeri setinde ilk sütunun sıra sayıları olduğunu görünce aman tanrım dedik ve sildik.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\ndata1<-data1[,-1] # fazla kalabalığa gerek yok, aynı isimle devam.\n```\n:::\n\n\nKayıp veri olup olmadığını anlamak için:\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\ndata1[data1 == 0] <- NA\nsum(is.na(data1))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 44\n```\n:::\n:::\n\n\nNeredeyse %8 oranında missing value var. Too much! Alayını atıyoruz. Artık adını da değiştirelim.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\ndata2<- na.omit(data1)\n```\n:::\n\n\nMadem ki öylesine bir veri seti ile öylesine bir analiz yapıyoruz ve practical kaygılarımız yok, veri setimizi büyütelim. 1000 kişi olsun:\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\nset.seed(16611106)  # olur da sen de denemek istersen diye aynı veri setini üretmemizi sağlar.\ndata3 <- data2[sample(1:495, 1000, replace = T), ] #adını da değiştirelim \n```\n:::\n\n\nSon olarak, veri setinde işimize yaramayacak bir sürü demografik detay var. Atıyoruz:\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\nrow.names(data3)<- NULL #önce adlarını silelim.\n\ndata4<- data3[,5:24]  #5. sütundan sonrası çöp  \n```\n:::\n\n\nÇalışmanın birinci araştırma sorusu kapsamında \"data4\" adlı veri seti kullanılmıştır. Bu veri seti 1000 gözlemden ve 20 değişkenden oluşmaktadır. Değişkenler, 1 ile 5 arasında bir tam sayı değeri almaktadır. Çalışmanın ikinci araştırma sorusu kapsamında ise her bir madde kendi madde ortalamasından kesilerek iki kategorili veriye dönüştürülmüştür. Bu aşamalar ilgili başlık altında raporlaştırılmıştır. Ön düzenlemelerin ardından araştırma sorularına cevap aramak için ileri analizlere devam edilmiştir.\n\n## **1. Çok Boyutlu Maddelere Yönelik Aşamalar**\n\nÇalışmanın ilk araştırma sorusu kapsamında, yapılan analizler çok kategorili puanlanan maddeler üzerinden yürütülmüştür.\n\n### **1.a. Varsayımların kontrolü ve uygun MTK modelinin belirlenmesi**\n\nÇok kategorili puanlanan maddelerden oluşan ölçeğin Madde Tepki Kuramı çerçevesinde incelenmesi sürecinde öncelikle uygun MTK modelinin belirlenebilmesi için varsayım kontrolleri yapılmıştır. Bu bağlamda, tek boyutluluk ve yerel bağımsızlık varsayımları ile model-veri uyumu kontrol edilmiştir. Tek boyutluluk varsayımı kontrolü için paralel analiz, yamaç birikinti grafiği ve faktör analizi kullanılmıştır. Bu aşamada kullanılan paketler: *Psych* ve *GPArotation.*\n\nParalel Analizden elde edilen yamaç birikinti grafiği şöyledir:\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\nfa.parallel(data4, n.obs = 1000, cor = \"poly\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\nParallel analysis suggests that the number of factors =  5  and the number of components =  2 \n```\n:::\n:::\n\n\nYamaç birikinti grafiği iki bileşenli bir yapıyı göstermektedir.  Son olarak faktör analizi yardımı ile hem tek hem de iki bileşenli modeller oluşturulmuştur:\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\nfa_model1 <- fa.poly(data4)\nfa_model2 <- fa(data4, nfactors = 2, cor=\"poly\")\n```\n:::\n\n\nBu iki modelin burada çıktılarını alsak baya uzun oluyor. Ama özetle; ben beğendiğim ve devam analizi için seçtiğim 2 faktörlü model ile devam ediyorum. Bu modelin çıktıları incelendiğinde, 1-12 numaralı maddelerin bir boyutta, 13-20 numaralı maddelerin ise diğer bir boyutta yüklendiği görülmektedir. Bu nedenle veri seti aşağıdaki adımlar izlenerek ikiye bölünmüş ve ileri analizler her iki faktör için de ayrı ayrı yürütülmüştür.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\ndata4a<-data4[1:12]\ndata4b<-data4[13:20]\n```\n:::\n\n\nYerel bağımsızlık varsayımının kontrolü için Yen'in Q analizi (Yen, 1984) her iki bileşen için de uygulanmıştır. Bu süreçte sirt paketinden (Robitzsch, 2020) yararlanılmış ve aşağıdaki adımlar izlenmiştir.  \n\n\n\n\n\n    Mod1 <- TAM::tam.mml( resp=data4a )\n    Mod1.wle <- TAM::tam.wle(Mod1)\n    Mod1.q3 <- sirt::Q3( dat=data4a, theta=Mod1.wle$theta, b=Mod1$item_irt[[3]] )\n    Mod2 <- TAM::tam.mml( resp=data4b )\n    Mod2.wle <- TAM::tam.wle(Mod2)\n    Mod2.q3 <- sirt::Q3( dat=data4b, theta=Mod2.wle$theta, b=Mod2$item_irt[[3]] )\n\nBu üstteki kodun çıktısı çooook uzun. Buraya koymuyorum. Tabi biz veriyi bootstrap ile çoğalttığımız için bu varsayım karşılanmadı ama gerçek veri ile çalışsaydık bu varsayımın karşılanmaması durumunda çöp olacaktı analiz. Yani örneklem yetersiz, daha çok örneklem lazım diyecektik. Ya da modeli veya madde sayılarını inceleyecektik vs. vs.\n\nBirinci araştırma sorusunun son aşamasında ise model veri uyumunun incelenmesi ve en uygun modelin seçilmesi yer almaktadır. Model-veri uyumu incelemesi ltm paketi (Rizopoulos, 2006) yardımı ile her iki bileşen için de ayrı ayrı GRM modeli ile yürütülmüştür. Her iki bileşende de model-1, ayırt edicilik düzeylerinin her madde için farklılaştığı modeli betimlemektedir. Model-2 ise ayırt edicilik düzeylerinin her madde için eşit tutulduğu modeldir.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\nmodel1_d4a<- grm(data4a)\nmodel2_d4a<- grm(data4a, constrained = TRUE)\nmodel1_d4b<- grm(data4b)\nmodel2_d4b<- grm(data4b, constrained = TRUE)\nanova(model2_d4a, model1_d4a)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n Likelihood Ratio Table\n                AIC      BIC   log.Lik    LRT df p.value\nmodel2_d4a 31785.45 32025.93 -15843.72                  \nmodel1_d4a 31660.51 31954.98 -15770.26 146.94 11  <0.001\n```\n:::\n\n```{.r .cell-code  code-fold=\"false\"}\nanova(model2_d4b, model1_d4b)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n Likelihood Ratio Table\n                AIC      BIC   log.Lik   LRT df p.value\nmodel2_d4b 21742.58 21904.54 -10838.29                 \nmodel1_d4b 21664.77 21861.08 -10792.38 91.81  7  <0.001\n```\n:::\n:::\n\n\nModeller arasında manidar farklılık anlamına gelen p değerlerine (\\<.05) sahip olmasının yanı sıra, Akaike ve Bayesian bilgi kriter değerleri en düşük olan modellerin her iki bileşen için de model-1 olduğu görülmektedir. Bu nedenle model-1 ile daha iyi bir model-veri uyumu sağlanmaktadır. Devam analizleri her iki bileşen için de model-1 ile yürütülmüştür.\n\n### 1.b. Madde parametreleri\n\nModel-veri uyumu sınandıktan ve en uygun model belirlendikten sonra, madde parametrelerinin incelenmesi aşamasına geçilmiştir. Model-1 üzerinden aşağıdaki kod satırları kullanılarak elde edilen madde parametreleri görülebilir.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\ncoef(model1_d4a)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n    Extrmt1 Extrmt2 Extrmt3 Extrmt4 Dscrmn\nL1   -1.259  -0.119   0.576   1.625  2.361\nL2   -0.994   0.224   1.002   2.265  1.383\nL3   -1.157  -0.363   0.254   1.498  2.401\nL4   -1.270  -0.276   0.610   1.718  2.355\nL5   -1.130  -0.312   0.337   1.382  2.248\nL6   -1.565  -0.657   0.322   1.309  1.895\nL7   -1.061  -0.257   0.460   1.453  2.129\nL8   -1.201  -0.401   0.314   1.367  2.635\nL9   -1.102  -0.322   0.363   1.246  2.296\nL10  -1.222  -0.295   0.476   1.473  1.815\nL11  -1.218  -0.457   0.345   1.320  2.123\nL12  -1.096  -0.249   0.737   1.819  1.661\n```\n:::\n\n```{.r .cell-code  code-fold=\"false\"}\ncoef(model1_d4b)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n    Extrmt1 Extrmt2 Extrmt3 Extrmt4 Dscrmn\nL13  -0.665   0.150   0.830   1.786  2.353\nL14  -0.791   0.148   0.917   1.802  2.290\nL15  -1.388  -0.736   0.198   0.920  2.308\nL16  -1.210   0.064   1.206   1.969  1.718\nL17  -0.998   0.150   1.077   1.832  1.898\nL18  -1.775  -0.720   0.598   1.664  1.338\nL19  -1.751  -0.514   0.694   1.600  1.505\nL20  -1.262  -0.351   0.505   1.277  2.007\n```\n:::\n:::\n\n\nTablo 4 incelendiğinde, her madde için eşik parametrelerinin beklendik bir şekilde birinciden dördüncüye doğru arttığı görülmektedir. Bazı maddelerin birinci eşik parametresinin -1'den daha büyük bir değerle başladığı dikkat çekmektedir. Örneğin ikinci bileşene ait ilk madde olan 13. Maddenin ilk kategorisini seçen bir bireyin yetenek seviyesi %50 ihtimalle -.66'dan daha düşüktür. \n\n### 1.c. Örnek Madde Karakteristik Eğrileri\n\nÇalışmanın bu aşamasında madde karakteristik eğrisi ideal ve sorunlu olan birer madde incelenmiş ve yorumlanmıştır. Bu nedenle, öncelikle birinci bileşeni oluşturan tüm maddelerin madde karakteristik eğrileri `plot()` fonksiyonu ile oluşturulmuştur. İdeal bir madde karakteristik eğrisine sahip olduğu düşünülen sekizinci madde ve kısmi sorunlu olduğu düşünülen ikinci maddenin madde karakteristik eğrileri aşağıdaki kod satırları yürütülerek oluşturulmuştur.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\nplot(model1_d4a, type=\"ICC\",item=6, xlab= \"YETENEK\", cex.main = 1, main = \"MADDE KARAKTERİSTİK EĞRİSİ- Madde: 6\", ylab = \"OLASILIK\" , lwd= 2, col.main= \"red\", font.axis= 3, font.lab=2)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n\n```{.r .cell-code  code-fold=\"false\"}\nplot(model1_d4a, type=\"ICC\",xlab= \"YETENEK\", cex.main = 1, ylab = \"OLASILIK\" , lwd= 2, col.main= \"red\", font.axis= 3, font.lab=2, main = \"MADDE KARAKTERİSTİK EĞRİSİ- Madde: 2\", items = 2)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-13-2.png){width=672}\n:::\n:::\n\n\nGörülen ilk grafik diğer maddelere göre daha ideal dağılım gösteren bir maddeye aittir. Bu maddenin eğrileri tüm yetenek düzeylerini kapsayacak şekilde sivrilip dağılmaktadır. Örneğin, sıfır yetenek düzeyinde bir bireyin üçüncü kategoride yer alma olasılığı en yüksek düzeydedir. Benzer şekillerde diğer kategorilerin de yüksek olasılık ile temsil ettikleri yetenek düzeyleri belirgin bir şekilde görülmektedir. Bu durumda bu maddenin ayırt edicilik düzeyinin yüksek olması beklenir. Madde parametreleri çıktısında da görüleceği üzere, bu maddeye ait ayırt edicilik parametresi birinci bileşenin en yüksek ayırt edicilik düzeyidir.\n\nİkinci grafik ise kısmen problemli olduğu düşünülen bir grafiktir. Bu grafiğin daha iyi yorumlanabilmesi için, eksenlerinde yer alan değerler axis() fonksiyonu ile daha detaylı hale getirilmiştir. Ayrıca abline() fonksiyonu ile 0.6 yetenek düzeyine dikey bir çizgi eklenmiştir.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\nplot(model1_d4a, type=\"ICC\",\n     xlab= \"YETENEK\", \n     cex.main = 1, \n     ylab = \"OLASILIK\" , \n     lwd= 2, col.main= \"red\", \n     font.axis= 3, \n     font.lab=2, \n     main = \"MADDE KARAKTERİSTİK EĞRİSİ- Madde: 2\", \n     items = 2)\naxis(2, at = seq(0, 1, by = .1))\naxis(1, at = seq(-4, 4, by = .1))\nabline(v=.6)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n:::\n\n\nMaddenin eğrileri incelendiğinde, 0.6 yetenek düzeyinde bir bireyin ikinci, üçüncü ve dördüncü kategorileri seçme olasılıklarının birbirlerine çok yakın olduğu görülmektedir. Bu durum, maddenin ayırt ediciliğini olumsuz olarak etkilemektedir. Daha önceki çıktılardan bilindiği üzere bu maddeye ait ayırt edicilik parametresi birinci bileşenin en düşük ayırt edicilik düzeyidir. Ayrıca, bu maddenin üçüncü kategorisinin sivrilmediği de dikkat çekmektedir. Bu durumda bu maddenin üçüncü kategorisinin çıkarılarak dört kategorili bir maddeye dönüştürülmesi düşünülebilir. Bir başka seçenek ise bu maddenin ölçekten çıkarılması ve analizlerin yeniden yapılması olabilir. \n\n### 1.d. Test Bilgi Fonksiyonu\n\nHer iki bileşen için de test bilgi fonksiyonları aşağıdaki kod satırları kullanılarak elde edilmiştir:\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\nplot(model1_d4a, type=\"IIC\", items = 0, xlab= \"YETENEK\", cex.main = 1, main = \"TEST   BİLGİ   FONKSİYONU\", ylab = \"BİLGİ\" , lwd= 2, col.main= \"red\", col=\"blue\", font.axis= 3, font.lab=2)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-15-1.png){width=672}\n:::\n\n```{.r .cell-code  code-fold=\"false\"}\nplot(model1_d4b, type=\"IIC\", items = 0, xlab= \"YETENEK\", cex.main = 1, main = \"TEST   BİLGİ   FONKSİYONU\", ylab = \"BİLGİ\" , lwd= 2, col.main= \"red\", col=\"blue\", font.axis= 3, font.lab=2)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-15-2.png){width=672}\n:::\n:::\n\n\nTest bilgi fonksiyonlarının 0 yetenek düzeyinde en yüksek seviyede olduğu, -/+ 2 yetenek düzeylerinde sert bir şekilde düşmeye başladığı ve -/+ 4 yetenek düzeylerinde en düşük seviyesinde olduğu görülmektedir. Bu durumda her iki bileşenin de en çok 0 yetenek düzeyinde bilgi sağladığı ve -2 ile +2 aralığında yüksek düzeyde bilgi sağladığı söylenebilir. Ancak bu aralığın ötesinde sağlanan bilginin hızla azaldığı düşünülebilir. \n\nÇalışmanın bu aşamasında madde bilgi eğrileri de aşağıdaki kod satırları kullanılarak elde edilmiştir:\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\nplot(model1_d4a, type=\"IIC\",xlab= \"YETENEK\", cex.main = 1, ylab = \"BİLGİ\" , col.main= \"red\", font.axis= 3, font.lab=2, main = \"1. BİLEŞEN MADDE BİLGİ  EĞRİLERİ\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-16-1.png){width=672}\n:::\n\n```{.r .cell-code  code-fold=\"false\"}\nplot(model1_d4b, type=\"IIC\",xlab= \"YETENEK\", cex.main = 1, ylab = \"BİLGİ\" , col.main= \"red\", font.axis= 3, font.lab=2, main = \"2. BİLEŞEN MADDE BİLGİ  EĞRİLERİ\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-16-2.png){width=672}\n:::\n:::\n\n\nBunlar incelendiğinde ise her iki bileşen için de maddelerin ölçülen özelliği geniş bir yetenek puanı ölçeğinde ölçtüğü görülmektedir. Birinci bileşen içerisinde en düşük bilgi sağlayan maddenin ikinci madde olduğu dikkat çekmektedir. Yine bilgi eğrisi en yüksek maddenin birinci bileşen için sekizinci madde olduğu da görülmektedir.  Bunlar, bir önceki bölümde kısmi problemli ve ideal dağılımlı olarak incelenen maddelerdir. Eğer ikinci bileşen için birer madde seçilecek olsaydı, o bileşene ait altı ve üç numaralı maddeler sırasıyla kısmi problemli ve ideal maddelere örnek olarak seçilebilirdi. \n\n### 1.e. Yetenek Puanları\n\nÇok kategorili puanlanan maddelere yönelik olarak yürütülen analizlerin son aşamasında bireylere ait yetenek puanları hesaplanmış ve bunların dağılımı incelenmiştir. Analizlerin bu aşamasında şu kod satırları kullanılarak birinci ve ikinci bileşen için yetenek puanları ayrı ayrı hesaplanmıştır. \n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\n#BİLEŞEN-1\nscore_d4a<- factor.scores(model1_d4a)\noruntu_d4a<- score_d4a[[1]]\noruntu_d4a$toplam<- rowSums((oruntu_d4a[,1:12]))\nscore_d4a<- factor.scores(model1_d4a)\noruntu_d4a<- score_d4a[[1]]\noruntu_d4a$toplam<- rowSums((oruntu_d4a[,1:12]))\ntheta_d4a <- numeric()\nfor (i in 1:419){ \n for (j in 1:1000){\n     \t if (sum (oruntu_d4a[i, 1: 12] == data4a[j, 1:12])==12)\n          \t  theta_d4a[j] <- oruntu_d4a[i, 15]      }}\ndata4a$theta<-theta_d4a\ndata4a$toplam<-rowSums(data4a[1:12])\n\n\n\n#BİLEŞEN-2\nscore_d4b<- factor.scores(model1_d4b)\noruntu_d4b<- score_d4b[[1]]\noruntu_d4b$toplam<- rowSums((oruntu_d4b[,1:12]))\ntheta_d4b <- numeric()\nfor (i in 1:404){\n  for (j in 1:1000){\n      if (sum (oruntu_d4b[i, 1: 8] == data4b[j, 1:8])==8)\n             theta_d4b[j] <- oruntu_d4b[i, 11] }}\ndata4b$theta<-theta_d4b\ndata4b$toplam<-rowSums(data4b[1:8])\n```\n:::\n\n\nBunun ardından `describe()` fonksiyonu ile birey yetenek puanlarının betimsel istatikleri elde edilmiştir. Ayrıca `hist()` fonksiyonu ile histogram grafikleri oluşturulmuştur. Şu kod satırları kullanılmıştır. \n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\n#BİLEŞEN-1\ndescribe(data4a$theta)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   vars    n mean   sd median trimmed  mad  min  max range skew kurtosis   se\nX1    1 1000 0.05 0.93   0.02    0.05 0.92 -2.3 2.59  4.88 0.03     -0.2 0.03\n```\n:::\n\n```{.r .cell-code  code-fold=\"true\"}\nhist(data4a$theta, xlab= \"YETENEK\", cex.main = 1, ylab = \"FREKANS\" , col.main= \"red\", font.axis= 3, font.lab=2, main = \"1. BİLEŞEN BİREY YETENEK PUANLARI\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-18-1.png){width=672}\n:::\n\n```{.r .cell-code  code-fold=\"true\"}\n#BİLEŞEN-2\ndescribe(data4b$theta)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   vars    n  mean   sd median trimmed  mad   min max range  skew kurtosis   se\nX1    1 1000 -0.01 0.92   0.05       0 0.89 -2.19 2.5  4.69 -0.04    -0.14 0.03\n```\n:::\n\n```{.r .cell-code  code-fold=\"true\"}\nhist(data4b$theta, xlab= \"YETENEK\", cex.main = 1, ylab = \"FREKANS\" , col.main= \"red\", font.axis= 3, font.lab=2, main = \"2. BİLEŞEN BİREY YETENEK PUANLARI\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-18-2.png){width=672}\n:::\n:::\n\n\nHer iki bileşene ait betimsel istatikler ve histogram grafikleri incelendiğinde, ortalamalarının sıfıra, standart sapmalarının da bire çok yakın olduğu görülmektedir. Bu durum her iki bileşenden elde edilen verinin de normal dağılım sergilediğini göstermektedir.\n\n## **2. İki Kategorili Maddelere Yönelik Aşamalar**\n\nÇalışmanın ikinci araştırma sorusu kapsamında, çok kategorili maddelerden oluşan veri setinin iki kategoriye dönüştürülmesi gerekmektedir. Çok kategorili puanlanan maddelerin iki kategorili olarak kodlanmasında izlenen adımlar şunlardır:\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\ndata5<- data4\nfor(i in 1:1000) {\n   for(j in 1:20) {\nif(data5[i,j] <= mean(data5[,j])) {data5[i,j] <- 0} \nelse data5[i,j] <- 1\n }\n}\n```\n:::\n\n\n### **2.a. Varsayımların Kontrolü ve Uygun MTK Modeli**\n\nİki kategorili puanlanan maddelerden oluşan ölçeğin Madde Tepki Kuramı çerçevesinde incelenmesi sürecinde öncelikle uygun MTK modelinin belirlenebilmesi için varsayım kontrolleri yapılmıştır. Bu bağlamda, tek boyutluluk ve yerel bağımsızlık varsayımları ile model-veri uyumu kontrol edilmiştir. Tek boyutluluk varsayımı kontrolü için paralel analiz, yamaç birikinti grafiği ve faktör analizi kullanılmıştır. Bu amaçla, Psych paketinden (Revelle, 2020) faydalanılmıştır.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\nfa.parallel(data5, main = \"PARALEL ANALİZ SAÇILIM GRAFİĞİ\", ylabel = \"Temel Bileşenler ve Faktör Analizi Özdeğerleri\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-20-1.png){width=672}\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\nParallel analysis suggests that the number of factors =  4  and the number of components =  2 \n```\n:::\n:::\n\n\nParalel analiz ve yamaç birikinti grafiği iki bileşenli bir yapıyı göstermektedir.  Bu nedenle hem iki hem de tek bileşenli modeller oluşturulmuştur. Aşağıda izlenen adımlar sonrası elde edilen modeller ait faktör yükleri görülebilir.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\nmodel1 <- fa(data5, cor = \"tet\")\n```\n\n```{.r .cell-code  code-fold=\"false\"}\nmodel2 <- fa(data5, cor = \"tet\", nfactors = 2)\n```\n:::\n\n\nFaktör yüklerinin her madde için her iki modelde de .60'nın üzerinde olduğu görülmektedir. Tek bileşenli yapının açıkladığı varyansın ise %61 olduğu anlaşılmaktadır. Bunun yanı sıra, iki bileşenli yapının birinci bileşenin %40, ikinci bileşenin %28 olmak üzere toplamda %68 oranında açıklanan varyansa sahip olduğu görülmektedir. Açıklanan varyans açısından modeller arasındaki farkın çok büyük olmadığı düşünüldüğünden, ileri analizlere tek bileşenli model ile devam edilmesine karar verilmiştir.  \n\nYerel bağımsızlık varsayımının kontrolü için Yen'in Q analizi (Yen, 1984)  uygulanmıştır. Bu süreçte sirt paketinden (Robitzsch, 2020) yararlanılmış ve aşağıdaki adımlar izlenmiştir. \n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nmodel <- rasch.mml2(data5)\nmodel.wle <-wle.rasch( dat=data5, b=model$item$b )\nyenq3 <-Q3( dat=data5, theta=model.wle$theta, b=model$item$b)\n```\n:::\n\n\nYerel bağımsızlık varsayımının karşılandığı görülmektedir. Bu nedenle model-veri uyumu incleme aşamasına geçilmiştir. Bu aşamada ltm paketinden (Rizopoulos, 2006) faydalanılmıştır. Aşağıdaki kod satırları kullanılarak elde edilen Benzerlik oranı tabloları görülebilir.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\nmodel1 <- rasch(data5)\nmodel2 <- ltm(data5 ~ z1)  \nmodel3 <- tpm(data5)\nanova(model1, model2)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n Likelihood Ratio Table\n            AIC      BIC  log.Lik    LRT df p.value\nmodel1 15975.79 16078.85 -7966.89                  \nmodel2 15913.21 16109.52 -7916.61 100.58 19  <0.001\n```\n:::\n\n```{.r .cell-code  code-fold=\"false\"}\nanova(model1, model3)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n Likelihood Ratio Table\n            AIC      BIC  log.Lik    LRT df p.value\nmodel1 15975.79 16078.85 -7966.89                  \nmodel3 15914.14 16208.61 -7897.07 139.64 39  <0.001\n```\n:::\n\n```{.r .cell-code  code-fold=\"false\"}\nanova(model2, model3)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n Likelihood Ratio Table\n            AIC      BIC  log.Lik   LRT df p.value\nmodel2 15913.21 16109.52 -7916.61                 \nmodel3 15914.14 16208.61 -7897.07 39.07 20   0.007\n```\n:::\n:::\n\n\nAkaike ve Bayesian bilgi kriterleri incelendiğinde, üç model arasında ikinci modelin manidar farkla en uygun model olduğu görülmektedir. Bu nedenle, devam analizleri iki parametreli model ile yürütülmüştür.\n\n### **2.b. Madde Parametreleri**\n\nModel-veri uyumu sınandıktan ve en uygun model belirlendikten sonra, madde parametrelerinin incelenmesi aşamasına geçilmiştir. Model-2 üzerinden `coef()` fonksiyonu kullanılarak elde edilen madde parametreleri aşağıdadır.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\ncoef(model2)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n        Dffclt   Dscrmn\nL1  -0.8112296 2.832181\nL2  -0.7312085 1.933827\nL3  -0.8181936 2.659799\nL4  -0.8109842 3.100650\nL5  -0.8380050 2.394060\nL6  -1.0180088 2.070947\nL7  -0.8694781 2.103077\nL8  -0.8977956 2.683691\nL9  -0.7951705 2.798913\nL10 -0.8580558 2.207506\nL11 -0.8789145 2.322482\nL12 -0.8528908 1.705619\nL13 -0.6390827 2.246105\nL14 -0.6903395 2.247931\nL15 -0.8834606 2.517332\nL16 -0.7716486 2.330535\nL17 -0.7333232 2.334138\nL18 -1.1852158 1.497807\nL19 -1.0471877 1.896025\nL20 -0.8162163 2.864486\n```\n:::\n:::\n\n\nÇıktılar incelendiğinde, güçlük parametresi en yüksek olan maddenin 13. madde olduğu göze çarpmaktadır. Yetenek düzeyi -.63'ten daha yüksek olan bireyler bu maddeyi %50'den daha yüksek bir ihtimalle doğru cevaplayacaklardır.\n\n### **2.c.  Örnek Madde Karakteristik Eğrileri**\n\nÇalışmanın bu aşamasında, iki kategorili puanlanan maddelerin analizinde madde karakteristik eğrisi ideal ve sorunlu olan birer madde incelenmiş ve yorumlanmıştır. Bu nedenle, öncelikle birinci bileşeni oluşturan tüm maddelerin madde bilgi eğrileri `plot()` fonksiyonu ile oluşturulmuş, aşağıdaki kod satırları kullanılmıştır:\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\nplot(model2, type=\"IIC\",xlab= \"YETENEK\", cex.main = 1, ylab = \"BİLGİ\" , col.main= \"red\", font.axis= 3, font.lab=2, main = \"MADDE BİLGİ  EĞRİLERİ\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-25-1.png){width=672}\n:::\n:::\n\n\nMadde bilgi eğrileri incelendiğinde, en çok bilgiyi dördüncü maddenin sağladığı görülmektedir. En düşük bilgi sağlayan maddelerden birisinin ise 12. madde olduğu görülmektedir. Bu nedenle madde karakteristik eğrilerinin incelenmesi sürecinde örnek olarak bu iki madde tercih edilmiştir. Bu maddelere ait karakteristik eğrileri aşağıdaki kod satırları ile elde edilmiştir.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\nplot(model2, type=\"ICC\", items = c(4,12), labels = c(\"madde-4\", \"madde-12\"), legend = T, xlab= \"YETENEK\", cex.main = 1, main = \"MADDE KARAKTERİSTİK EĞRİSİ\", ylab = \"OLASILIK\" , lwd= 2)\npoints(-.81, .5, lwd= 3, pch= 3)\ntext(-.81, .5, lwd= 2, labels = \"b par.: -0.81\", pos = 4)\npoints(-.85, .5, lwd= 3, col= \"red\", pch=5)\ntext(-.85, .5, lwd= 3, labels = \"b par.: -0.85\", pos = 2, col= \"red\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-26-1.png){width=672}\n:::\n:::\n\n\nDört ve 12 numaralı maddelerin güçlük parametreleri birbirlerine oldukça yakındır. Ancak dördüncü madde diğerine göre daha dik bir karakteristik eğrisine sahiptir. Bu durum iki maddenin ayırt edicilik parametrelerindeki farklılıktan kaynaklanmaktadır. Dördüncü madde yüksek bir ayırt edicilik parametresi ile ideal bir madde gibi görünürken, 12. madde düşük bir ayırt edicilik parametresi ile kısmi problemli bir madde görüntüsü sergilemektedir. Yine de 12 numaralı maddenin parametre değerlerinin kabul edilebilir olduğu da vurgulanmalıdır. \n\n### **2.d. Test Bilgi Fonksiyonu**\n\nİki kategorili puanlanan maddelere yönelik test bilgi fonksiyonunu elde etmek için aşağıdaki kod satırları kullanılmıştır. `locator()` fonksiyonu aracılığı ile test bilgi fonksiyonunun tepe noktası tespit edilmiş ve ardından `abline()` fonksiyonu ile tepe noktasının koordinat çizgileri grafiğe eklenmiştir.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\nplot(model2, type=\"IIC\", items = 0, xlab= \"YETENEK\", cex.main = 1, main = \"TEST   BİLGİ   FONKSİYONU\", ylab = \"BİLGİ\" , lwd= 2,col.main=\"red\",col=\"blue\", font.axis= 3, font.lab=2)\naxis(2, at = seq(0, 30, by =5))\naxis(1, at = seq(-4, 4, by = .1))\nabline(h=27.74, v=-.8451, lty=4)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-27-1.png){width=672}\n:::\n:::\n\n\nTest bilgi fonksiyonunun -0.84 yetenek düzeyinde en yüksek seviyede olduğu, -1.5 ile 0 yetenek düzeylerinde sert bir şekilde düşmeye başladığı ve -2.8 ve 1.1 yetenek düzeylerinde en düşük seviyesinde olduğu görülmektedir. Bu durumda en yüksek bilginin bu ölçekte -.8 yetenek düzeylerinde sağlandığı söylenebilir. \n\nBu durumda her iki bileşenin de en çok 0 yetenek düzeyinde bilgi sağladığı ve -2 ile +2 aralığında yüksek düzeyde bilgi sağladığı söylenebilir. Ancak bu aralığın ötesinde sağlanan bilginin hızla azaldığı düşünülebilir.\n\n### **2.e. Yetenek Puanları**\n\nİki kategorili puanlanan maddelere yönelik olarak yürütülen analizlerin son aşamasında bireylere ait yetenek puanları hesaplanmış ve bunların dağılımı incelenmiştir. Şu kod satırları ile hesaplanan yetenek puanları veri setine eklenmiştir.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\nscore_d5<- factor.scores.ltm(model2)\noruntu_d5 <- score_d5[[1]]\noruntu_d5$toplam <- rowSums((oruntu_d5[,1:12]))\ntheta_d5 <- numeric()\nfor (i in 1:454){\n     for (j in 1:1000){\n         if (sum (oruntu_d5[i, 1: 20] == data5[j, 1:20])==20)\n             theta_d5[j] <- oruntu_d5[i, 23] }}\ndata5$theta<-theta_d5\ndata5$toplam<-rowSums(data5[1:20])\n```\n:::\n\n\nBunun ardından `describe()` fonksiyonu ile birey yetenek puanlarının betimsel istatikleri elde edilmiştir. Ayrıca hist() fonksiyonu ile histogram grafikleri oluşturulmuştur. Bu süreçlerde kullanılan kod satırları şunlardır:\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\n#BİLEŞEN-1\ndescribe(data5$theta)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   vars    n  mean   sd median trimmed  mad   min  max range  skew kurtosis\nX1    1 1000 -0.03 0.81   0.05    0.04 1.24 -2.17 0.89  3.06 -0.45     -0.8\n     se\nX1 0.03\n```\n:::\n\n```{.r .cell-code  code-fold=\"false\"}\nhist(data5$theta, xlab= \"YETENEK\", cex.main = 1, ylab = \"FREKANS\" , col.main= \"red\", font.axis= 3, font.lab=2, main = \"BİREY YETENEK PUANLARI\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-29-1.png){width=672}\n:::\n:::\n\n\nİncelenen iki kategorili puanlanan veriye ait betimsel istatikleri incelendiğinde, ortalamanın -.03, standart sapmanın da .81 olduğu görülmektedir. Bu durum verinin normal dağıldığı şeklinde yorumlanabilir, ancak histogram grafiği incelendiğinde yetenek puanlarının -2 ile 1 arasında dağılım gösterdiği ve 1 yetenek puanında bir yığılma olduğu görülmektedir. Bu durum, verilerin çok kategorili puanlanan maddelerden ortalamaları doğrultusunda iki kategorili puanlanan maddelere çevrilmesiyle ilişkisi olduğu düşünülmektedir.\n\n## SONUÇ\n\nBu çalışma simüle edilmiş veri ile yürütülmüştür. Çıktılarında bu nedenle temel problemler görülebilmektedir. Yine de aşama aşama MTK ile madde analizinin R ile nasıl yapılacağına dair bana güzel bir referans olmaktadır. Bu çalışma, bir ders raporu olarak hazırlanmıştır.\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}